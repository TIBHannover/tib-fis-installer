@prefix : <http://vitro.mannlib.cornell.edu/ns/vitro/ApplicationSetup#> .
@prefix rdfs:  <http://www.w3.org/2000/01/rdf-schema#> .

:vitrodocumentModifier_persons_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "persons filter" ;
    :hasTargetField "persons_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?person
        WHERE {
            ?uri vivo:relatedBy ?position .
            ?position vivo:relates ?person .
            ?person rdf:type <https://vivo.tib.eu/fis/ontology/tib-vivo#TIBMitarbeiter> .
        }
""" .

:vitrodocumentModifier_person_types_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "person types" ;
    :hasTargetField "person_types_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?type
        WHERE {
            ?uri a foaf:Person .
            ?uri <http://vitro.mannlib.cornell.edu/ns/vitro/0.7#mostSpecificType> ?type .
        }
""" .

:vitrodocumentModifier_org_types_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "oragnization types" ;
    :hasTargetField "organization_types_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?type
        WHERE {
	  {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#AdministrativeEinheit> .
	  }
	  UNION
          {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Programmbereich> .
	  }
	  UNION
          {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Bereich> .
	  }
	  UNION
          {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#JuniorResearchGroup> .
	  }
	  UNION
          {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Lab> .
	  }
	  UNION
          {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Local> .
            ?uri a vivo:Library .
	  }
	  UNION
          {
            ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Local> .
            ?uri a vivo:Division .
	  }
          ?uri <http://vitro.mannlib.cornell.edu/ns/vitro/0.7#mostSpecificType> ?type .
        }

""" .

:vitrodocumentModifier_related_persons_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "related to persons" ;
    :hasTargetField "related_persons_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX obo:      <http://purl.obolibrary.org/obo/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?person
        WHERE {
          ?uri vivo:relatedBy ?position .
          ?position a vivo:Position .
          ?position vivo:relates ?person .
          ?person a foaf:Person .
        }

""" .

:vitrodocumentModifier_related_organizations_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "related to organizations" ;
    :hasTargetField "related_organizations_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX obo:      <http://purl.obolibrary.org/obo/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?organization
        WHERE {
          ?uri a foaf:Person .
          ?position vivo:relates ?uri .
          ?position a vivo:Position .
          ?organization vivo:relatedBy ?position .
        }

""" .



:vitrodocumentModifier_related_concepts_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "related to concepts" ;
    :hasTargetField "related_concepts_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?concept
        WHERE {
            ?uri vivo:relatedBy ?relationship .
            ?relationship a vivo:Relationship .
            ?relationship vivo:relates ?publication .
	    ?publication vivo:hasSubjectArea ?concept .
            ?concept rdf:type <http://www.w3.org/2004/02/skos/core#Concept> .
        }
""" .



:vitrodocumentModifier_concepts_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "concepts filter" ;
    :hasTargetField "concepts_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?concept
        WHERE {
            ?uri vivo:hasSubjectArea ?concept .
            ?concept rdf:type <http://www.w3.org/2004/02/skos/core#Concept> .
        }
""" .

:vitrodocumentModifier_organizations_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "organizations filter" ;
    :hasTargetField "organizations_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?orgs
        WHERE {
            {
              ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> .
              ?uri vivo:relatedBy ?personRelation .
              ?personRelation vivo:relates ?person .
              ?person rdf:type foaf:Person .
              ?person vivo:relatedBy ?position .
              ?position vivo:relates ?org .
              ?org rdf:type <https://vivo.tib.eu/fis/ontology/tib-vivo#Local> .
              ?org rdf:type foaf:Organization .
              ?org <http://purl.obolibrary.org/obo/BFO_0000050>* ?orgs . 
            }
             UNION
            {
              ?uri rdf:type foaf:Person .
              ?uri vivo:relatedBy ?position .
              ?position vivo:relates ?org .
              ?org rdf:type <https://vivo.tib.eu/fis/ontology/tib-vivo#Local> .
              ?org rdf:type foaf:Organization .
              ?org <http://purl.obolibrary.org/obo/BFO_0000050>* ?orgs . 
            } 
             UNION 
            {
              ?uri rdf:type <https://vivo.tib.eu/fis/ontology/tib-vivo#Local> .
              ?uri rdf:type foaf:Organization .
              ?uri <http://purl.obolibrary.org/obo/BFO_0000050>* ?orgs . 
            }
        }
""" .

:vitrodocumentModifier_publication_types_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication types" ;
    :hasTargetField "publication_types_ss" ;
    :hasSelectQuery """
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT DISTINCT ?type
        WHERE {
            ?uri <https://vivo.tib.eu/fis/ontology/tib-vivo#tibPublikation> true .
 { ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#TIBProjekt> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/AcademicArticle> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#ConferencePaper> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#BlogPosting> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/Book> . } UNION
 { ?uri a <http://kerndatensatz-forschung.de/owl/Basis#Monographie> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/EditedBook> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/Chapter> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#ConferencePoster> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#Dataset> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/Report> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#WorkingPaper> . } UNION
 { ?uri a <http://kerndatensatz-forschung.de/owl/Basis#ArbeitspapierForschungsbericht> . } UNION
 { ?uri a <http://kerndatensatz-forschung.de/owl/Basis#Software> . } UNION
 { ?uri a <http://purl.obolibrary.org/obo/ERO_0000071> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#EditorialArticle> . } UNION
 { ?uri a <http://vivoweb.org/ontology/core#ResearchProposal> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/Slideshow> . } UNION
 { ?uri a <http://purl.org/ontology/bibo/Webpage> . } UNION
 { ?uri a <http://www.w3.org/2004/02/skos/core#Concept> . } UNION
 { ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Preprint> . }
            ?uri <http://vitro.mannlib.cornell.edu/ns/vitro/0.7#mostSpecificType> ?type .

        }
""" .

:vitrodocumentModifier_publication_venue_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication venue" ;
    :hasTargetField "publication_venue_ss" ;
    :hasSelectQuery """
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?venue
        WHERE {
            ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> .
            ?uri vivo:hasPublicationVenue ?venue .
        }
""" .

:vitrodocumentModifier_publications_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publications filter" ;
    :hasTargetField "publications_ss" ;
    :hasSelectQuery """
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT DISTINCT ?uri
        WHERE {
            {
              ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> . 
            } 
        }
""" .

:vitrodocumentModifier_publication_access_filter
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication access filter" ;
    :hasTargetField "publication_access_ss" ;
    :hasSelectQuery """
        PREFIX foaf:  <http://xmlns.com/foaf/0.1/>
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        PREFIX vivo:  <http://vivoweb.org/ontology/core#>
        SELECT DISTINCT ?publication_access_type
        WHERE {
            {
              ?uri <http://lod.tib.eu/onto/vivo-oa/has_access> ?publication_access_type .
            } 
        }
""" .


:vitrodocumentModifier_publication_year
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication date" ;
    :hasTargetField "publication_year_ss" ;
    :hasSelectQuery """
        PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT ?year
        WHERE
        {
          ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> .
          OPTIONAL {
            ?uri <http://vivoweb.org/ontology/core#dateTimeValue> ?dateValue .
            ?dateValue <http://vivoweb.org/ontology/core#dateTime> ?dateTime .
          }
          BIND ( COALESCE( SUBSTR(STR(?dateTime),0,5), "Not assigned" ) AS ?year )
        }
""" .


:vitrodocumentModifier_publication_status
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication status" ;
    :hasTargetField "publication_status_ss" ;
    :hasSelectQuery """
        PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT ?result
        WHERE
        {
          ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> .
          OPTIONAL {
            ?uri <http://purl.org/ontology/bibo/status> ?status .
          }
          BIND (
            COALESCE( STR(?status), "https://vivo.tib.eu/fis/individual/n32259" ) AS ?result
          )
        }
""" .

:vitrodocumentModifier_publication_validation
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication status" ;
    :hasTargetField "publication_validation_ss" ;
    :hasSelectQuery """
        PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT ?result
        WHERE
        {
          ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> .
          OPTIONAL {
            ?uri <https://vivo.tib.eu/fis/ontology/tib-vivo#validated> ?status .
          }
          BIND (
            COALESCE( STR(?status), "https://vivo.tib.eu/fis/individual/n17838" ) AS ?result
          )
        }
""" .

:vitrodocumentModifier_publication_tib
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "publication tib" ;
    :hasTargetField "publication_tib_ss" ;
    :hasSelectQuery """
        PREFIX rdfs:  <http://www.w3.org/2000/01/rdf-schema#>
        PREFIX rdf:   <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT ?result
        WHERE
        {
          ?uri rdf:type <http://purl.obolibrary.org/obo/IAO_0000030> .
          OPTIONAL {
            ?uri <https://vivo.tib.eu/fis/ontology/tib-vivo#tibPublikation> ?status .
          }
          BIND (
            COALESCE( STR(?status), "https://vivo.tib.eu/fis/individual/n70071" ) AS ?result
          )
        }
""" .



:vitrodocumentModifier_dates
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "dates" ;
    :hasTargetField "dates_drsim" ;
    :hasSelectQuery """
	PREFIX rdfs:     <http://www.w3.org/2000/01/rdf-schema#>
	SELECT ?result
	WHERE
	{
		{
		  ?uri <http://vivoweb.org/ontology/core#dateTimeInterval> ?interval .
		  ?interval <http://vivoweb.org/ontology/core#end> ?start .
		  ?start <http://vivoweb.org/ontology/core#dateTime> ?startTime .
		  ?interval <http://vivoweb.org/ontology/core#end> ?end .
		  ?end <http://vivoweb.org/ontology/core#dateTime> ?endTime .
                  BIND (
                    COALESCE(
                      IF(strlen(str(?startTime)) = 4, concat(str(?startTime),"-01-01T00:00:00Z"), 1/0),
                      IF(strlen(str(?startTime)) = 7, concat(str(?startTime),"-01T00:00:00Z"), 1/0),
                      IF(strlen(str(?startTime)) = 10, concat(str(?startTime),"T00:00:00Z"), 1/0),
                      IF(strlen(str(?startTime)) = 19, concat(str(?startTime),"Z"), 1/0)
                    ) AS ?cleanStartDateValue
                  )
                  BIND (
                    COALESCE(
                      IF(strlen(str(?endTime)) = 4, concat(str(?endTime),"-01-01T00:00:00Z"), 1/0),
                      IF(strlen(str(?endTime)) = 7, concat(str(?endTime),"-01T00:00:00Z"), 1/0),
                      IF(strlen(str(?endTime)) = 10, concat(str(?endTime),"T00:00:00Z"), 1/0),
                      IF(strlen(str(?endTime)) = 19, concat(str(?endTime),"Z"), 1/0)
                    ) AS ?cleanEndDateValue
                  )

		  BIND( CONCAT("[", ?cleanStartDateValue," TO ", ?cleanEndDateValue,"]") as ?result )
		} UNION 
		{
		  ?uri <http://vivoweb.org/ontology/core#dateTimeValue> ?dateTimeValue .
                  ?dateTimeValue <http://vivoweb.org/ontology/core#dateTime> ?rawStringDateValue .
                  BIND (
                    COALESCE(
                      IF(strlen(str(?rawStringDateValue)) = 4, concat(str(?rawStringDateValue),"-01-01T00:00:00Z"), 1/0),
                      IF(strlen(str(?rawStringDateValue)) = 7, concat(str(?rawStringDateValue),"-01T00:00:00Z"), 1/0),
                      IF(strlen(str(?rawStringDateValue)) = 10, concat(str(?rawStringDateValue),"T00:00:00Z"), 1/0),
                      IF(strlen(str(?rawStringDateValue)) = 19, concat(str(?rawStringDateValue),"Z"), 1/0)
                    ) AS ?cleanDateValue
                  )
                  BIND( CONCAT("[", STR(?cleanDateValue)," TO ", STR(?cleanDateValue),"]") as ?result )
		}
	} LIMIT 1
""" .

:vitrodocumentModifier_journal_peer_review
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "concepts filter" ;
    :hasTargetField "journal_peer_review_value_ss" ;
    :hasSelectQuery """
PREFIX rdf:      <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX bibo:     <http://purl.org/ontology/bibo/>
SELECT ?peer_review_value
WHERE
{
  ?uri a bibo:Journal .
  OPTIONAL {
    ?uri <https://vivo.tib.eu/fis/ontology/tib-vivo#peer_review_system> ?value .
  }
  BIND(COALESCE(?value, "not assigned") as ?peer_review_value)
}
""" .


:vitrodocumentModifier_research_types
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "research types" ;
    :hasTargetField "research_types_ss" ;
    :hasSelectQuery """
        PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
        SELECT DISTINCT ?type
        WHERE {
            ?uri <https://vivo.tib.eu/fis/ontology/tib-vivo#tibPublikation> true .
 { ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#TIBProjekt> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/AcademicArticle> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#ConferencePaper> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#BlogPosting> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/Book> . } UNION 
 { ?uri a <http://kerndatensatz-forschung.de/owl/Basis#Monographie> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/EditedBook> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/Chapter> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#ConferencePoster> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#Dataset> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/Report> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#WorkingPaper> . } UNION 
 { ?uri a <http://kerndatensatz-forschung.de/owl/Basis#ArbeitspapierForschungsbericht> . } UNION 
 { ?uri a <http://kerndatensatz-forschung.de/owl/Basis#Software> . } UNION 
 { ?uri a <http://purl.obolibrary.org/obo/ERO_0000071> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#EditorialArticle> . } UNION 
 { ?uri a <http://vivoweb.org/ontology/core#ResearchProposal> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/Slideshow> . } UNION 
 { ?uri a <http://purl.org/ontology/bibo/Webpage> . } UNION 
 { ?uri a <http://www.w3.org/2004/02/skos/core#Concept> . } UNION
 { ?uri a <https://vivo.tib.eu/fis/ontology/tib-vivo#Preprint> . }
            ?uri <http://vitro.mannlib.cornell.edu/ns/vitro/0.7#mostSpecificType> ?type .
        }
""" .

:vitrodocumentModifier_event_types
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "event dates" ;
    :hasTargetField "event_types_ss" ;
    :hasSelectQuery """
        PREFIX rdfs:     <http://www.w3.org/2000/01/rdf-schema#>
        SELECT ?type
        WHERE
        {
            ?uri a <http://purl.org/NET/c4dm/event.owl#Event> .
            ?uri <http://vitro.mannlib.cornell.edu/ns/vitro/0.7#mostSpecificType> ?type .
        }
""" .


:vitrodocumentModifier_event_dates
    a   <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.SelectQueryDocumentModifier> ,
        <java:edu.cornell.mannlib.vitro.webapp.searchindex.documentBuilding.DocumentModifier> ;
    rdfs:label "event dates" ;
    :hasTargetField "event_dates_drsim" ;
    :hasSelectQuery """
        PREFIX rdfs:     <http://www.w3.org/2000/01/rdf-schema#>
        SELECT ?result
        WHERE
        {
                  ?uri a <http://purl.org/NET/c4dm/event.owl#Event> .
                  ?uri <http://vivoweb.org/ontology/core#dateTimeInterval> ?interval .
                  ?interval <http://vivoweb.org/ontology/core#end> ?start .
                  ?start <http://vivoweb.org/ontology/core#dateTime> ?startTime .
                  ?interval <http://vivoweb.org/ontology/core#end> ?end .
                  ?end <http://vivoweb.org/ontology/core#dateTime> ?endTime .
                  BIND( CONCAT("[", STR(?startTime),"Z TO ", STR(?endTime),"Z]") as ?result )
        }
""" .


